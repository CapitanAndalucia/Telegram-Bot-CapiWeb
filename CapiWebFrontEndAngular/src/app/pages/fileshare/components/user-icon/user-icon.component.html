<div class="userIconContainer">
    <button class="userButton" (click)="toggleDropdown()">
        @if (user()) {
        <div class="avatarSmall">{{ user()!.username[0].toUpperCase() }}</div>
        } @else {
        <div class="avatarPlaceholder">ğŸ‘¤</div>
        }
    </button>

    @if (isOpen()) {
    <div class="dropdown">
        <div class="menu">
            @if (user()) {
            <div class="userInfo">
                <span class="menuTitle">SesiÃ³n iniciada como</span>
                <p class="userName">{{ user()!.username }}</p>
            </div>
            <button (click)="handleLogoutClick()" class="menuItem">
                <span class="icon">ğŸšª</span> Cerrar SesiÃ³n
            </button>
            } @else {
            <div class="userInfo">
                <p class="userName">Cuenta</p>
            </div>
            <button (click)="navigateToLogin()" class="menuItem">
                <span class="icon">ğŸ”‘</span> Iniciar SesiÃ³n
            </button>
            <button (click)="navigateToRegister()" class="menuItem">
                <span class="icon">ğŸ“</span> Registrarse
            </button>
            }
        </div>
    </div>
    }
</div>